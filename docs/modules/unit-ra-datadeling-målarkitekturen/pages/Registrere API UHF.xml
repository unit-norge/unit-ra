<?xml version="1.0" encoding="UTF-8"?>
<?asciidoc-toc maxdepth="4"?>
<?asciidoc-numbered maxdepth="9"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xl="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en">
<info>
<title>Registrere API UHF</title>
<date>2021-02-04</date>
</info>
<simpara>En arbeidsflyt som datatilbyder må gjennomføre for å gjøre et API synlig og tilgjengelig gjennom kataloger og søkeløsninger. Metadata om APIet blir registrert i API-katalogen. Metadata inkluderer begreper og datamodeller omfattet av datasettet som APIet tilgjengeliggjør, samt tilganger (scopes) knyttet til APIet som kan tildeles konsumenter.</simpara>
<simpara>Kanskje omdøpe kapabiliteten til "Publiser API"</simpara>
<figure>
<title>Registrere API UHF</title>
<mediaobject>
<imageobject>
<imagedata fileref="../images/Registrere%20API%20UHF.png"/>
</imageobject>
<textobject><phrase>Registrere API UHF image</phrase></textobject>
</mediaobject>
</figure>
<table frame="all" rowsep="1" colsep="1">
<title>Elementer i view for Registrere API UHF</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="25*"/>
<colspec colname="col_2" colwidth="75*"/>
<thead>
<row>
<entry align="left" valign="top">Element</entry>
<entry align="left" valign="top">Beskrivelse</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>OAUTH scopes &lt;data-object&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Hvordan får Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</simpara><simpara>Fra eHelse: Regler for et API som beskriver hvilke tilganger en datakonsument (representert ved organisasjonsnummer) og deres klienter skal ha tilgang til (utstedt token for).</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Token-egenskaper &lt;data-object&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Egenskaper som f.eks. gyldighetstid ved tilgangstoken som er Maskinportens variant av sikkerhetsbillett.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Datatilbyder &lt;business-role&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Tilbyder av data til andre aktører.</simpara><simpara>API Eiere  (kan eie Data som API gir tilgang til, eller system som tilbyr APIet)??</simpara><simpara>Når virksomheten tilbyr åpne data, vil det være virksomheten som eier dataene. (men det bør vel definere et domen-eier innenfor virksomheten)</simpara><simpara>Data eier på to nivå: f. eks. studieavdelingen (er ikke dette behandlingsansvarlig?) spør studenten om de gir samtykke til å gi tilgang til data om studenten som hen eier.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Maskinporten &lt;application-component&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>[Torget]
Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering.</simpara><simpara>[Verktøykasse for deling av data]
Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</simpara><simpara>Mer om Maskinporten:
<link xl:href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Registrere API i UHF sektoren &lt;application-service&gt;</simpara></entry>
<entry align="left" valign="top"></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>API Beskrivelse  &lt;data-object&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Open API spesifikasjon (har vi føringer på format her)?</simpara><simpara>VI ønsker oss beskrivelse av datamodell og begreper som finnes i begrepskatalog og datamodell katalog (per default bruker vi det nasjonale, men kan hende vi må bruke noe for sektoren om ikke funksjonalitet er dekket</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>UHF definer rettighetter knyttet til APIer &lt;application-service&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>UHF sentralisert selvbetjeningstjeneste for administrasjon av integrasjoner og APIer.
Tjeneste "administrasjonssentre" vil ha rettigheter til å registrere på vegne av andre f.eks. API-katalogen
Definere hvilke scopes finnes koblet til et API</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Registrere API &lt;capability&gt;</simpara></entry>
<entry align="left" valign="top"></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Registrere API &lt;business-process&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Prosess med å registere API i relevante tjenester, api-katalog, Maskinporten, Kapabilitetsoversikt</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Felles API-katalog &lt;application-component&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <link xl:href="https://fellesdatakatalog.brreg.no/apis">https://fellesdatakatalog.brreg.no/apis</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>UHF API manager  &lt;application-component&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Administrativ komponent som kontrollerer policy og livssyklus for definisjon og forvaltning av API. Tilganger gjennom et API defineres i API manager og tildeles av autorisasjonstjener. Ansvaret til API manager inkluderer:</simpara><simpara>* Sentralisert API administrasjon og forvaltning av API-katalogen
* Håndtering av registrerings- og introduksjonsprosesser for API utviklere
* Håndtere livssyklusen til et API</simpara><simpara>Ivareta registrering, forvaltning og og utvikling av klientrettigheter</simpara><simpara>Hva tilbyr API av datamodell
Hvordan ønsker API å sikre seg selv
En klient må forholde seg til</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>UHF API katalog &lt;application-component&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Oversikt over alle API som er registrert</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</article>