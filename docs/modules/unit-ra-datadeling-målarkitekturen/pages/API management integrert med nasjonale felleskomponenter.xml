<?xml version="1.0" encoding="UTF-8"?>
<?asciidoc-toc maxdepth="4"?>
<?asciidoc-numbered maxdepth="9"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xl="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en">
<info>
<title>API management integrert med nasjonale felleskomponenter</title>
<date>2021-02-16</date>
</info>
<simpara>​​Det er behov for datadeling og API Management på tvers av sektorer. Høyere utdanning og forskning ønsker utstrakt bruk av nasjonale felleskomponenter, som omtalt i Digitaliseringsrundskrivet. For å oppnå dette må både sektorens og den nasjonale infrastrukturen videreutvikles.​</simpara>
<simpara>Føderert tilgangsstyring for datadeling på tvers av sektorer er ønskelig, og det krever blant annet standardisering av tilgangstokens for å oppnå gjennomgående tillitskjeder. ​Det er også ønskelig at brukere kan styre samtykke til sine data fra et sted nasjonalt, inklusivt til data i kilder i høyere utdanning og forskning. Det hadde vært ønskelig om en felles Norsk samtykketjeneste kunne være integrert med funksjonalitet som vi forvente skal realiseres i IAM løsningent til høyere utdanning og forskning.</simpara>
<simpara>Figuren viser kun kobling til maskinporten direkte som er mulig i dag.  Det er planlagt automatisert høsting av API katalogen fra høyere utdanning og forskning til Felles API-katalog som visst i figuren. Samtykke til kilder i vår sektor fra Altinn autorisasjon er foreløpig ikke imlementert, så ingen kobling til Altinn autorisasjon er visst i figuren. ​</simpara>
<figure>
<title>API management integrert med nasjonale felleskomponenter</title>
<mediaobject>
<imageobject>
<imagedata fileref="../images/API%20management%20integrert%20med%20nasjonale%20felleskomponenter.png"/>
</imageobject>
<textobject><phrase>API management integrert med nasjonale felleskomponenter image</phrase></textobject>
</mediaobject>
</figure>
<table frame="all" rowsep="1" colsep="1">
<title>Elementer i view for API management integrert med nasjonale felleskomponenter</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="25*"/>
<colspec colname="col_2" colwidth="75*"/>
<thead>
<row>
<entry align="left" valign="top">Element</entry>
<entry align="left" valign="top">Beskrivelse</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>UHF Infrastruktur &lt;grouping&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Felleskomponenter i UHF-infrastrukturen for datadeling</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Tokentjeneste &lt;application-service&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Tjeneste som utsteder sikkerhetsbilletter. Sikkerhetsbillett utstedes basert på tildelte rettigheter og eventuelle representasjonsforhold.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Registrere API i UHF sektoren &lt;application-service&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Programtjeneste for å registrere og vedlikeholde API som er tilgjengelige i Universitets og Høyskole-sektoren</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>UHF tildel rettigheter til klienter &lt;application-service&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Tildel autoriserte rettigheter basert på roller, annen policy eller manuel behandling av dataforvalter gjennom tjenesten "Forespør dataforvalter".</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Ressursportal &lt;application-component&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Ressursportalen holder oversik over og tildeler tilganger til beskyttede ressurser i høyere utdanning og forskningssektoren i henhold til føringer fra eierne av disse ressursene. Tilganger er gitt i form av OAuth2 grants og tokens. Ressursportalen er en del av den felles infrastrukturen for føderert API management for høyere utdanning og forskning. Den registrerer og holder oversikt over API, holder oversikt over klienter som har blitt tildelt tilgang til API og hvilke tilganger det gjelder. Ressursportalen benytter Jason Web Token formattert OAuth2 sikkerhetstoken for å gi tilgang til ressurser gjennom API gateway nær de beskyttede ressursene.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>UHF Oauth2 autorisasjonstjener &lt;application-component&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Autorisasjonstjenester realiserer tilgangskontroll gjennom å utstede OAuth 2 grants og tokens.
En autorisasjonstjener er også brukt til å realisere tilgangs policy.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>UHF Klientregister &lt;application-component&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Oversikt over alle klienter som er blitt tildelt tilgang til ressurser.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>UHF API manager  &lt;application-component&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Administrativ komponent som kontrollerer policy og livssyklus for definisjon og forvaltning av API.
Tilganger gjennom et API defineres i API manager og tildeles av autorisasjonstjener.</simpara><simpara>Ansvaret til API manager inkluderer:
  * Sentralisert API Gateway som håndterer sikkerhetsretningslinjer, og sender kall til bakenforliggende API
  * Sentralisert publisering av API spesifikasjon (OpenAPI/RAML), dokumentasjon
  * Sentralisert API administrasjon og forvaltning av API-katalogen
  * Håndtering av registrerings- og introduksjonsprosesser for API utviklere
  * Håndtere livssyklusen til et API, uvikling, test, utrulling, nye versjoner, nedlegging
  * Ivareta registrering, forvaltning og og utvikling av klientrettigheter
  * Rapportering og analyse for å monitorere bruk og last</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>UHF API katalog &lt;application-component&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Oversikt over alle API som er registrert</simpara><simpara>UHF API katalog kan inneholde
  * Navn på API
  * Tekstlig beskrivelse av API
  * Informasjonsmodell / Datamodell for API som tilbys
  * Kildeinformasjon for data, begrepsinformasjon
  * Informasjon om tilgang, juridiske og tekniske begrensinger for bruk
  * Eksempelkode, interaktiv API-konsoll og sandkasse for test
  * Informasjon om hvordan få support og hjelp fra utsteder</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Nasjonal infrastruktur &lt;grouping&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Nasjonale felleskomponenter for datadeling</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Maskinporten &lt;application-component&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>[Torget]
Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering.</simpara><simpara>[Verktøykasse for deling av data]
Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</simpara><simpara>Mer om Maskinporten:
<link xl:href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Altinn autorisasjon &lt;application-component&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>[Torget]
Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</simpara><simpara>[Verktøykasse for deling av data]
Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</simpara><simpara>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</simpara><simpara>Mer om Altinn autorisasjon:
<link xl:href="https://www.altinndigital.no/produkter/styring-av-tilgang/">https://www.altinndigital.no/produkter/styring-av-tilgang/</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Felles API-katalog &lt;application-component&gt;</simpara></entry>
<entry align="left" valign="top"><simpara>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <link xl:href="https://fellesdatakatalog.brreg.no/apis">https://fellesdatakatalog.brreg.no/apis</link></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</article>